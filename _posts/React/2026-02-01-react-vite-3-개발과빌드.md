---
title: "[React] React + Vite (3) - 컴포넌트 개발과 빌드"
categories:
  - React
tags:
  - [React, Vite, 컴포넌트, 빌드]
---

# Introduction

---

React 컴포넌트를 만들고 패키지를 추가하는 방법, 그리고 배포용 빌드 과정을 알아봅니다.

# 1. 새 컴포넌트 만들기

---

## 파일 생성

```tsx
// src/components/Button.tsx

interface ButtonProps {
  text: string;
  onClick: () => void;
}

function Button({ text, onClick }: ButtonProps) {
  return (
    <button onClick={onClick}>
      {text}
    </button>
  );
}

export default Button;
```

## 컴포넌트 사용

```tsx
// src/App.tsx

import Button from './components/Button';

function App() {
  const handleClick = () => {
    alert('클릭!');
  };

  return (
    <div>
      <Button text="클릭하세요" onClick={handleClick} />
    </div>
  );
}

export default App;
```

# 2. 패키지 추가하기

---

```bash
# 앱 실행에 필요 (dependencies)
npm install axios

# 개발에만 필요 (devDependencies)
npm install -D @types/node
```

| 옵션 | 저장 위치 | 용도 |
|------|----------|------|
| (없음) | dependencies | 앱 실행에 필요 |
| `-D` | devDependencies | 개발에만 필요 |

# 3. 빌드

---

```bash
npm run build
```

## 빌드 과정

1. **TypeScript 컴파일**: `.tsx` → JavaScript
2. **번들링**: 모든 파일을 하나로 합침
3. **최적화**: 압축, 트리 쉐이킹
4. **결과물**: `dist/` 폴더에 생성

## 빌드 결과물

```
dist/
├── index.html
└── assets/
    ├── index-abc123.js    # 번들된 JavaScript
    └── index-def456.css   # 번들된 CSS
```

## 빌드 결과 미리보기

```bash
npm run preview
```

# 4. 환경 변수 설정

---

## .env 파일

```bash
# .env (개발/프로덕션 공통)
VITE_API_URL=https://api.example.com
VITE_APP_TITLE=My App

# .env.development (개발 환경만)
VITE_API_URL=http://localhost:8080

# .env.production (프로덕션만)
VITE_API_URL=https://api.production.com
```

## 사용법

```tsx
// VITE_ 접두사 필수!
const apiUrl = import.meta.env.VITE_API_URL;
const mode = import.meta.env.MODE;  // 'development' 또는 'production'

console.log(apiUrl);  // http://localhost:8080 (개발 시)
```

| 변수 | 설명 |
|------|------|
| `VITE_*` | 클라이언트에 노출되는 변수 (접두사 필수) |
| `import.meta.env.MODE` | 현재 모드 |
| `import.meta.env.DEV` | 개발 모드면 true |
| `import.meta.env.PROD` | 프로덕션 모드면 true |

> **주의**: `VITE_` 접두사가 없는 환경변수는 클라이언트에서 접근 불가 (보안)

# 5. 전체 개발 흐름 정리

---

```
1. 프로젝트 생성
   npm create vite@latest my-app

2. 의존성 설치
   cd my-app && npm install

3. 환경 변수 설정
   .env 파일 생성 (VITE_ 접두사 사용)

4. 개발 시작
   npm run dev

5. 코드 수정 → 브라우저에서 즉시 확인

6. 배포 빌드
   npm run build

7. dist/ 폴더를 웹 서버에 업로드
```

# Reference

---

- [Vite 빌드 가이드](https://vitejs.dev/guide/build.html)
