---
title: "[Next.js] Next.js (2) - 프로젝트 구조와 App Router"
categories:
  - React
tags:
  - [Next.js, App Router, 라우팅]
---

# Introduction

---

Next.js App Router의 파일 구조와 특수 파일들의 역할을 알아봅니다.

# 1. 프로젝트 구조

---

```
my-next-app/
├── src/
│   └── app/                # App Router 핵심
│       ├── layout.tsx      # 루트 레이아웃
│       ├── page.tsx        # 메인 페이지 (/)
│       └── globals.css     # 전역 스타일
├── public/                 # 정적 파일
├── package.json
├── next.config.ts          # Next.js 설정
└── tsconfig.json           # TypeScript 설정
```

# 2. 파일 기반 라우팅

---

폴더 구조가 곧 URL입니다.

| 파일 경로 | URL |
|----------|-----|
| `app/page.tsx` | `/` |
| `app/about/page.tsx` | `/about` |
| `app/blog/[id]/page.tsx` | `/blog/1`, `/blog/2` |

# 3. App Router 특수 파일

---

| 파일 | 역할 |
|------|------|
| `page.tsx` | 해당 경로의 페이지 |
| `layout.tsx` | 공유 레이아웃 |
| `loading.tsx` | 로딩 UI |
| `error.tsx` | 에러 UI |
| `not-found.tsx` | 404 페이지 |

# 4. layout.tsx

---

모든 페이지에 공통으로 적용되는 레이아웃입니다.

```tsx
// src/app/layout.tsx

import type { Metadata } from 'next'

export const metadata: Metadata = {
  title: 'My App',
  description: 'My awesome app',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="ko">
      <body>{children}</body>
    </html>
  )
}
```

| 요소 | 설명 |
|------|------|
| `Metadata` | SEO 정보 (title, description) |
| `children` | 각 페이지 컴포넌트가 여기에 렌더링 |

# 5. page.tsx

---

```tsx
// src/app/page.tsx

export default function Home() {
  return (
    <main>
      <h1>Hello Next.js!</h1>
    </main>
  )
}
```

- `page.tsx` 파일이 있으면 해당 경로가 페이지가 됨
- `export default` 필수

# 6. loading.tsx

---

데이터 로딩 중 표시할 UI입니다. (React Suspense 활용)

```tsx
// src/app/posts/loading.tsx

export default function Loading() {
  return (
    <div className="loading">
      <p>로딩 중...</p>
    </div>
  )
}
```

페이지가 로딩되는 동안 **자동으로** 이 컴포넌트가 표시됩니다.

# 7. error.tsx

---

에러 발생 시 표시할 UI입니다.

```tsx
// src/app/posts/error.tsx
'use client'  // 에러 컴포넌트는 반드시 클라이언트 컴포넌트

export default function Error({
  error,
  reset,
}: {
  error: Error
  reset: () => void
}) {
  return (
    <div>
      <h2>문제가 발생했습니다</h2>
      <p>{error.message}</p>
      <button onClick={reset}>다시 시도</button>
    </div>
  )
}
```

| props | 설명 |
|-------|------|
| `error` | 발생한 에러 객체 |
| `reset` | 에러 복구 시도 함수 |

# 8. 중첩 레이아웃

---

폴더별로 레이아웃을 중첩할 수 있습니다.

```
app/
├── layout.tsx          # 모든 페이지 공통
├── page.tsx
└── dashboard/
    ├── layout.tsx      # dashboard 하위만 적용
    └── page.tsx
```

```tsx
// src/app/dashboard/layout.tsx

export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <div>
      <nav>대시보드 메뉴</nav>
      <main>{children}</main>
    </div>
  )
}
```

# Reference

---

- [Next.js App Router](https://nextjs.org/docs/app)
