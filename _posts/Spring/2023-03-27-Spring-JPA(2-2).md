---
title: "[SpringBoot] JPA (2-2) - H2 DB 연결
categories:
  - Spring
tags:
  - [Java, Spring]
---



# Introduction

---

JPA를 사용하기 위한 h2 DB 설정에 대하여 알아본다.



# H2

---

In-memory형 RDB

- 메모리에 데이터가 저장되기 때문에 애플리케이션을 재 시작할 때마다 데이터가 초기화 된다.
- 해당 특성 때문에 보통 테스트 용도로 많이 쓰임

별도의 설치가 필요없이 프로젝트 의존성만으로 관리



## 설치

build.gradle의 dependencies에 아래 사항을 추가한 뒤 gradle을 reload하면 완료

```yaml
dependencies {
		...
    implementation('com.h2database:h2')
    ...
}

```



위 의존성만 추가하면 아래 코드에서 @SpringBootTest로 설정된 테스트 코드를 실행하면 자동으로 H2 DB가 실행된다

```java
@SpringBootTest
public class UserRepositoryTest{

    @Autowired
    private UserRepository userRepository;

    @Test
    public void create(){
        User user = new User();

        user.setAccount("TestUser01");
        user.setPhoneNumber("010-1111-1111");

        User user2 = new User().setAccount("TestUser01").setPhoneNumber("010-1111-1111");

        Item item = new Item();
        item.setStatus("None");
        user.setItem(item);


        User newUser = userRepository.save(user);
        System.out.println("newUser : "+newUser);
    }
}
```



![image-20230329021003415](../../assets/images/03-28-spring-jpa/1.png)

- 아래 예시와 같이 @Column으로 네임을 직접 설정하거나 JPA 내부에서 camel case의 변수 명과 snake case의 컬럼 명을 자동으로 매핑해준다. (아래 예시에서 id, account, email, phoneNumber, createdAt, createdBy가 전부 매핑된다.)

![image-20230329021035829](../../assets/images/03-28-spring-jpa/2.png)





# Conclusion

---

JPA의 첫 번째 단계로 설치와 Entity에 대하여 알아보았다.

Spring boot의 ORM 사용 방법에 대한 것을 다루기 때문에 서버에서 DB를 다루는 작업을 진행하기 위해서 필수로 알고 넘어가야 한다.



# Reference

---

Fastcampus 스프링 부트 프로젝트(어드민 페이지 만들기) 강의 - 예상국 강사님

Fastcampus 스프링 부트 프로젝트 강의(지인 정보 관리 시스템 만들기) - 강현호 강사님
